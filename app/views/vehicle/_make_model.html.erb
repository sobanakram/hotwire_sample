<%= form_with(url: vehicle_ssn_path) do |f| %>
  <div data-controller="vehicle-form">
    <div class="mb-3">
      <%= f.select :year,
          options_for_select((Time.current.year - 30..Time.current.year).reverse_each.to_a),
          { prompt: 'Year' },
          { 
            class: 'form-select',
            data: { 
              vehicle_form_target: "year",
              action: "change->vehicle-form#yearChanged"
            }
          }
      %>
    </div>

    <div class="mb-3">
      <%= f.select :make,
          [],
          { prompt: 'Make' },
          { 
            class: 'form-select',
            disabled: true,
            data: { 
              vehicle_form_target: "make",
              action: "change->vehicle-form#makeChanged"
            }
          }
      %>
    </div>

    <div class="mb-3">
      <%= f.select :model,
          [],
          { prompt: 'Model' },
          { 
            class: 'form-select',
            disabled: true,
            data: { 
              vehicle_form_target: "model",
              action: "change->vehicle-form#modelChanged"
            }
          }
      %>
    </div>

    <div class="mb-4">
      <%= f.select :trim,
          [],
          { prompt: 'Trim' },
          { 
            class: 'form-select',
            disabled: true,
            data: { 
              vehicle_form_target: "trim"
            }
          }
      %>
    </div>

    <!-- Financing Information Section -->
    <h5 class="mb-3">Financing information</h5>
    <div class="mb-3">
      <%= f.text_field :amount_owed, class: 'form-control', placeholder: 'How much do you owe?' %>
    </div>

    <div class="mb-3">
      <%= f.text_field :mileage, class: 'form-control', placeholder: 'How many miles are on your vehicle?' %>
    </div>

    <div class="mb-4">
      <p class="mb-3">Is there anyone else on your current loan?</p>
      
      <div class="form-check mb-2">
        <%= f.radio_button :has_co_borrower, false, class: 'form-check-input', id: 'no_co_borrower' %>
        <%= f.label :has_co_borrower_false, 'No one else, just me', class: 'form-check-label', for: 'no_co_borrower' %>
      </div>
      
      <div class="form-check">
        <%= f.radio_button :has_co_borrower, true, class: 'form-check-input', id: 'has_co_borrower' %>
        <%= f.label :has_co_borrower_true, 'Yes, I have a co-borrower or co-signer', class: 'form-check-label', for: 'has_co_borrower' %>
      </div>
    </div>

    <%= f.submit 'Continue', class: 'btn btn-primary w-100' %>
  </div>
<% end %>
